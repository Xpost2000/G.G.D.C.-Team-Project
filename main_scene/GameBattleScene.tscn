[gd_scene load_steps=15 format=2]

[ext_resource path="res://images/battle/bkgrnds/dumpy_battle_cave_a.png" type="Texture" id=1]
[ext_resource path="res://fonts/Alkhemikal.ttf" type="DynamicFontData" id=3]
[ext_resource path="res://ui/BattleTurnMeter.tscn" type="PackedScene" id=4]
[ext_resource path="res://main_scene/BattleScene.gd" type="Script" id=5]
[ext_resource path="res://ui/PartyMemberInformationLayoutUI.tscn" type="PackedScene" id=6]
[ext_resource path="res://ui_themes/buttons_for_paperbg.tres" type="Theme" id=7]
[ext_resource path="res://ui/InventoryUI.tscn" type="PackedScene" id=9]
[ext_resource path="res://ui/Battlelog.gd" type="Script" id=10]
[ext_resource path="res://ui/ActionSelectionPrompt.gd" type="Script" id=11]
[ext_resource path="res://ui/PartyMemberSelectionWidget.tscn" type="PackedScene" id=12]
[ext_resource path="res://images/ui/ui_cobble.png" type="Texture" id=13]

[sub_resource type="DynamicFont" id=1]
font_data = ExtResource( 3 )

[sub_resource type="Theme" id=2]
default_font = SubResource( 1 )

[sub_resource type="DynamicFont" id=3]
size = 36
font_data = ExtResource( 3 )

[node name="BattleScene" type="Node2D"]
script = ExtResource( 5 )

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 638, 359 )
current = true
smoothing_enabled = true

[node name="BattleLayer" type="Node2D" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="BattleBackground" type="Sprite" parent="BattleLayer"]
position = Vector2( 643.722, 360.56 )
texture = ExtResource( 1 )

[node name="LeftSideParticipants" type="Node2D" parent="BattleLayer"]
position = Vector2( 127.92, 205.707 )
__meta__ = {
"_edit_group_": true
}

[node name="RightSideParticipants" type="Node2D" parent="BattleLayer"]
position = Vector2( 1170.39, 185.488 )
__meta__ = {
"_edit_group_": true
}

[node name="BattleUILayer" type="CanvasLayer" parent="."]

[node name="LeftSidePartyInfo" parent="BattleUILayer" instance=ExtResource( 6 )]
visible = false

[node name="RightSidePartyInfo" parent="BattleUILayer" instance=ExtResource( 6 )]
visible = false
margin_left = 894.0
margin_top = -4.0
margin_right = 1288.0
margin_bottom = 748.0

[node name="TurnMeter" parent="BattleUILayer" instance=ExtResource( 4 )]

[node name="Battlelog" type="VBoxContainer" parent="BattleUILayer"]
margin_left = 515.0
margin_top = 113.0
margin_right = 829.0
margin_bottom = 240.0
theme = SubResource( 2 )
script = ExtResource( 10 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="BattleDashboard" type="ColorRect" parent="BattleUILayer"]
margin_top = 479.0
margin_right = 1280.0
margin_bottom = 720.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TextureRect" type="NinePatchRect" parent="BattleUILayer/BattleDashboard"]
margin_left = 6.0
margin_top = -16.0
margin_right = 220.0
margin_bottom = 236.0
texture = ExtResource( 13 )
patch_margin_left = 32
patch_margin_top = 32
patch_margin_right = 32
patch_margin_bottom = 32
axis_stretch_horizontal = 1
axis_stretch_vertical = 1

[node name="Actions" type="VBoxContainer" parent="BattleUILayer/BattleDashboard"]
margin_top = 3.0
margin_right = 227.0
margin_bottom = 237.0
theme = ExtResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Attack" type="Button" parent="BattleUILayer/BattleDashboard/Actions"]
margin_right = 227.0
margin_bottom = 36.0
text = "Attack"

[node name="UseAbility" type="Button" parent="BattleUILayer/BattleDashboard/Actions"]
margin_top = 40.0
margin_right = 227.0
margin_bottom = 76.0
text = "Use Ability"

[node name="UseItem" type="Button" parent="BattleUILayer/BattleDashboard/Actions"]
margin_top = 80.0
margin_right = 227.0
margin_bottom = 116.0
text = "Use Item"

[node name="HSeparator" type="HSeparator" parent="BattleUILayer/BattleDashboard/Actions"]
margin_top = 120.0
margin_right = 227.0
margin_bottom = 124.0

[node name="Skip" type="Button" parent="BattleUILayer/BattleDashboard/Actions"]
margin_top = 128.0
margin_right = 227.0
margin_bottom = 164.0
text = "Forfeit Turn"

[node name="Flee" type="Button" parent="BattleUILayer/BattleDashboard/Actions"]
margin_top = 168.0
margin_right = 227.0
margin_bottom = 204.0
text = "Escape!"

[node name="InventoryUI" parent="BattleUILayer" instance=ExtResource( 9 )]
visible = false
margin_left = 59.6364
margin_top = 17.28
margin_right = 99.6364
margin_bottom = 57.28

[node name="ActionSelectionPrompt" type="ColorRect" parent="BattleUILayer"]
visible = false
margin_left = 256.0
margin_top = 414.0
margin_right = 565.0
margin_bottom = 716.0
color = Color( 0.12549, 0.12549, 0.12549, 1 )
script = ExtResource( 11 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Heading" type="Label" parent="BattleUILayer/ActionSelectionPrompt"]
margin_right = 311.0
margin_bottom = 48.0
custom_fonts/font = SubResource( 3 )
text = "ABILITY SELECT"
align = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Selections" type="ItemList" parent="BattleUILayer/ActionSelectionPrompt"]
margin_left = 8.0
margin_top = 44.0
margin_right = 300.0
margin_bottom = 264.0

[node name="ClosePrompt" type="Button" parent="BattleUILayer/ActionSelectionPrompt"]
margin_left = 107.958
margin_top = 276.684
margin_right = 198.958
margin_bottom = 296.684
text = "Close"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PartyMemberSelectionForAction" parent="BattleUILayer" instance=ExtResource( 12 )]
visible = false
margin_left = 490.941
margin_top = 159.348
margin_right = 841.941
margin_bottom = 476.348
[connection signal="pressed" from="BattleUILayer/BattleDashboard/Actions/Attack" to="." method="_on_BattleDashboard_Attack_pressed"]
[connection signal="pressed" from="BattleUILayer/BattleDashboard/Actions/UseAbility" to="." method="_on_BattleDashboard_UseAbility_pressed"]
[connection signal="pressed" from="BattleUILayer/BattleDashboard/Actions/UseItem" to="." method="show_inventory"]
[connection signal="pressed" from="BattleUILayer/BattleDashboard/Actions/Skip" to="." method="_on_BattleDashboard_ForfeitTurn_pressed"]
[connection signal="pressed" from="BattleUILayer/BattleDashboard/Actions/Flee" to="." method="_on_BattleDashboard_Flee_pressed"]
[connection signal="close" from="BattleUILayer/InventoryUI" to="." method="_on_InventoryUI_close"]
[connection signal="picked" from="BattleUILayer/ActionSelectionPrompt" to="." method="_on_ActionSelectionPrompt_picked"]
[connection signal="item_activated" from="BattleUILayer/ActionSelectionPrompt/Selections" to="BattleUILayer/ActionSelectionPrompt" method="_on_Selections_item_activated"]
[connection signal="pressed" from="BattleUILayer/ActionSelectionPrompt/ClosePrompt" to="BattleUILayer/ActionSelectionPrompt" method="_on_ClosePrompt_pressed"]
[connection signal="cancel_selection" from="BattleUILayer/PartyMemberSelectionForAction" to="." method="_on_PartyMemberSelectionForAction_cancel_selection"]
[connection signal="highlight_party_member" from="BattleUILayer/PartyMemberSelectionForAction" to="." method="_on_PartyMemberSelectionForAction_highlight_party_member"]
[connection signal="picked_party_member" from="BattleUILayer/PartyMemberSelectionForAction" to="." method="_on_PartyMemberSelectionForAction_picked_party_member"]
